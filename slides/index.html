<!DOCTYPE html>
<html lang="en"><head>
<link href="../images/jr-logo-circle.webp" rel="icon">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Jadey Ryan | January 18, 2024 R-Ladies Washington DC">
  <title>Parameterized Reporting with Quarto - Parameterized Reporting with Quarto </title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Parameterized Reporting<br> with Quarto<br> <img data-src="images/jr-logo-quarto.webp" style="width:5em"></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jadey Ryan | January 18, 2024<br>R-Ladies Washington DC 
</div>
</div>
</div>

</section>
<section id="acknowledgements" class="slide level2">
<h2>Acknowledgements</h2>

<img data-src="images/rladies-dc.jpg" style="border-radius:1em" alt="R-Ladies Washington DC Logo" class="r-stretch"><ul>
<li><p><a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/">R/Medicine Data Cleaning 2023 Workshop</a> taught by <a href="https://cghlewis.com/">Crystal Lewis</a>, <a href="https://www.pipinghotdata.com/">Shannon Pileggi</a>, and <a href="https://bookdown.org/pdr_higgins/rmrwr/">Peter Higgins</a></p></li>
<li><p><a href="https://quarto.org/docs/blog/posts/2023-12-05-asa-traveling-courses/">ASA Traveling Courses on Quarto</a> taught by <a href="https://mine-cr.com/">Mine Çetinkaya-Rundel</a> and <a href="https://andrewpbray.github.io/">Andrew Bray</a></p></li>
</ul>
</section>
<section id="license" class="slide level2">
<h2>License</h2>
<p>Opinions expressed are solely my own and do not express the views of my employer or any organizations I am associated with.</p>
<p>This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA)</a>.</p>
<p><i class="fa-brands fa-creative-commons fa-2x" aria-label="creative-commons"></i> <i class="fa-brands fa-creative-commons-by fa-2x" aria-label="creative-commons-by"></i> <i class="fa-brands fa-creative-commons-nc fa-2x" aria-label="creative-commons-nc"></i> <i class="fa-brands fa-creative-commons-sa fa-2x" aria-label="creative-commons-sa"></i></p>
</section>
<section id="jadey-ryan" class="slide level2">
<h2>Jadey Ryan</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Data scientist at WA Dept of Agriculture</p>
<p>Business owner of The Coding Cats</p>
<p><i class="fa-solid fa-link fa-xl" aria-label="link"></i> <a href="https://jadeyryan.com">jadeyryan.com</a></p>
<p><i class="fa-brands fa-mastodon fa-xl" aria-label="mastodon"></i> <a href="https://fosstodon.org/@jadeynryan">@jadeynryan</a></p>
<p><i class="fa-brands fa-linkedin fa-xl" aria-label="linkedin"></i> <a href="https://www.linkedin.com/in/jadey-ryan">linkedin.com/in/jadey-ryan</a></p>
<p><i class="fa-brands fa-github fa-xl" aria-label="github"></i> <a href="https://github.com/jadeynryan/">jadeynryan</a></p>
<p><i class="fa-brands fa-etsy fa-xl" aria-label="etsy"></i> <a href="https://thecodingcats.etsy.com/">thecodingcats.etsy.com</a></p>
<p><img data-src="images/mts.webp" style="border-radius:1em;margin-top:auto" alt="Three snowshoe siamese cats in loaf mode. From left to right: Tai, Mai, and Skye"></p>
</div><div class="column" style="width:30%;">
<p><img data-src="images/bulk-density.jpg" style="border-radius:1em;margin-top:auto" alt="Jadey collecting a bulk density soil sample in a field of wheat stubble."></p>
</div><div class="column" style="width:30%;">
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img data-src="images/soil-sampling.jpg" style="border-radius:1em;margin-top:auto" alt="Jadey standing in a field of wheat stubble holding a 3 foot long soil sampling probe over her shoulder."></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img data-src="images/rangeland.jpg" style="border-radius:1em;margin-top:auto" alt="Jadey standing in a grazed wildflower meadow with two colleagues collecting soil samples."></p>
</div>
</div>
</div>
<p>Photo credit: <a href="https://twitter.com/leslie_mmichel"><span class="citation" data-cites="leslie.mmichel">@leslie.mmichel</span></a></p>
</div>
</div>
</section>
<section id="logistics" class="slide level2">
<h2>Logistics</h2>
<div>
<ul>
<li class="fragment"><p>Login to Posit Cloud: <a href="https://bit.ly/rladies-parameterized-quarto"><strong>bit.ly/rladies-parameterized-quarto</strong></a>.</p></li>
<li class="fragment"><p>If Posit Cloud doesn’t work, download materials locally:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>usethis<span class="sc">::</span><span class="fu">use_course</span>(</span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="st">"https://github.com/jadeynryan/rladies-parameterized-quarto/raw/main/exercises/exercises.zip"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li class="fragment"><p>Ask questions in the public Zoom chat or raise hand ✋.</p>
<p><img data-src="images/zoom-reactions.png" alt="Zoom reactions panel with options for emojis and raising hand."></p></li>
<li class="fragment"><p>Workshop structure: presentation, exercises, questions to answer in chat [💬 <strong>Chat</strong>:], and demos.</p></li>
</ul>
</div>
</section>
<section>
<section id="exercise-0" class="title-slide slide level1 exercise center">
<h1>💪🏼 Exercise 0</h1>
<ol type="1">
<li><p>Raise/lower your hand on Zoom.</p></li>
<li><p>Use your favorite reaction.</p></li>
<li><p>💬 <strong>Chat</strong>: share your name, where you’re calling in from, and one thing you’ve made that you’re proud of.</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_00c305da" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">01</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="learning-objectives" class="slide level2">
<h2>Learning objectives</h2>
<div>
<ol type="1">
<li class="fragment"><p>Understand what parameterized reporting is and when it is useful.</p></li>
<li class="fragment"><p>Learn how to convert a report into a parameterized template.</p></li>
<li class="fragment"><p>Render all variations of the report at once using <a href="https://quarto-dev.github.io/quarto-r/">{quarto}</a> and <a href="https://purrr.tidyverse.org/">{purrr}</a>.</p></li>
<li class="fragment"><p>Generate multiple format outputs from the same template file with conditional content and conditional code execution.</p></li>
</ol>
</div>
</section></section>
<section>
<section id="syntax-and-rstudio-aside" class="title-slide slide level1 section center">
<h1>Syntax and RStudio aside</h1>

</section>
<section id="pipes" class="slide level2">
<h2>Pipes</h2>
<ul>
<li><p>2014+ magrittr pipe <code>%&gt;%</code></p></li>
<li><p>2021+ (R <span class="math inline">\(\geq\)</span> 4.1.0) native R pipe <code>|&gt;</code></p></li>
</ul>
<div class="fragment">
<p>Isabella Velásquez’s blog post <a href="https://ivelasq.rbind.io/blog/understanding-the-r-pipe/"><em>Understanding the native R pipe</em> |&gt;</a> (2022)</p>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">do_something</span>(arg1, arg2, arg3, ...)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>arg1 <span class="sc">|&gt;</span>  </span>
<span id="cb2-4"><a href="#cb2-4"></a>  <span class="fu">do_something</span>(arg2, arg3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">mean</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="dv">0</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">|&gt;</span> </span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">mean</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<p>To change <code>Ctrl</code> + <code>Shift</code> + <code>M</code> shortcut to the native pipe:</p>
<p><code>Tools</code> → <code>Global Options</code> → <code>Code</code> → <code>Editing</code> → <code>Use Native Pipe Operator</code></p>
<div class="footer">
<p>Slide adapted from <a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/">R/Medicine Data Cleaning 2023 Workshop</a></p>
</div>
</div>
</section>
<section id="namespacing" class="slide level2">
<h2>Namespacing</h2>
<p><code>package::function()</code></p>
<p><code>dplyr::select()</code></p>
<div class="fragment">
<ul>
<li><p>tells R explicitly to use the function <code>select</code> from the package <code>dplyr</code></p></li>
<li><p>helps avoid name conflicts (e.g., <code>MASS::select()</code>)</p></li>
<li><p>does not require <code>library(dplyr)</code></p></li>
</ul>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>mtcars <span class="sc">|&gt;</span>  </span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">select</span>(mpg, cyl) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># library(dplyr) not needed</span></span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>mtcars <span class="sc">|&gt;</span>  </span>
<span id="cb5-4"><a href="#cb5-4"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(mpg, cyl) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="footer">
<p>Slide adapted from <a href="https://shannonpileggi.github.io/rmedicine-data-cleaning-2023/">R/Medicine Data Cleaning 2023 Workshop</a></p>
</div>
</div>
</section>
<section id="rstudio-options" class="slide level2">
<h2>RStudio options</h2>
<p><code>Tools</code> → <code>Global Options</code> →</p>
<div>
<ul>
<li class="fragment"><p>Fussy YAML indentation:</p>
<p><code>Code</code> → <code>Display</code> → <code>Indentation guides:</code> → <code>Rainbow lines</code></p></li>
</ul>
<p><br></p>
<ul>
<li class="fragment"><p>Match parentheses:</p>
<p><code>Code</code> → <code>Display</code> → <code>Indentation guides:</code> → Check <code>Use rainbow parentheses</code></p></li>
</ul>
<p><br></p>
<ul>
<li class="fragment"><p>Matching divs:</p>
<p><code>R Markdown</code> → <code>Advanced</code> → Check <code>Use rainbow fenced divs</code></p></li>
</ul>
</div>
</section></section>
<section>
<section id="r-markdown-quarto" class="title-slide slide level1 section center">
<h1>R Markdown → Quarto</h1>
<div class="fragment">
<p><br></p>
<p>💬 <strong>Chat</strong>: what’s your comfort level / experience with R Markdown and Quarto?</p>
</div>
</section>
<section id="r-markdown" class="slide level2">
<h2>R Markdown</h2>

<img data-src="images/rmd-ecosystem.png" alt="Hex logos for various packages from the R Markdown ecosystem." width="800" class="r-stretch quarto-figure-center"><p class="caption">Figure from “Hello, Quarto” keynote by Julia Lowndes and Mine Çetinkaya-Rundel, presented at RStudio::Conf(2022).</p></section>
<section id="quarto" class="slide level2">
<h2>Quarto</h2>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center" style="margin-top:-1.5em;margin-bottom:-1em">
<figure>
<p><img data-src="images/horst-quarto-schematic.png" class="fragment fade-out" data-fragment-index="1" alt="A schematic representing the multi-language input (e.g. Python, R, Observable, Julia) and multi-format output (e.g. PDF, html, Word documents, and more) versatility of Quarto."></p>
<figcaption>Artwork from “Hello, Quarto” keynote by Julia Lowndes and Mine Çetinkaya-Rundel, presented at RStudio::Conf(2022). Illustrated by Allison Horst.</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center" style="margin-top:-1.5em;margin-bottom:-1em">
<figure>
<p><img data-src="images/horst-qmd-render-schema.png" class="fragment" data-fragment-index="1" alt="A schematic representing rendering of Quarto documents from .qmd, to knitr or jupyter, to plain text markdown, then converted by pandoc into any number of output types including html, PDF, or Word document."></p>
</figure>
</div>
</div>
</section>
<section id="r-markdown-vs-quarto" class="slide level2">
<h2>R Markdown vs Quarto</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/rmarkdown.png" style="float:left;padding: 0 1em 0 0" width="150"></p>
<h3 id="r-markdown-1">R Markdown</h3>
<ul>
<li><p>Vast R Markdown ecosystem</p></li>
<li><p>Dependent on R</p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/quarto.png" style="float:left;padding: 0 1em 0 0" width="150"></p>
<h3 id="quarto-1">Quarto</h3>
<ul>
<li><p>Command line interface (CLI)</p></li>
<li><p>Expands R Markdown ecosystem</p></li>
<li><p>“Batteries included”</p></li>
<li><p>Multi-language and multi-engine</p></li>
</ul>
</div>
</div>
<div class="fragment">
<p><br></p>
<p>R Markdown will still be maintained but likely no new features <a href="https://yihui.org/en/2022/04/quarto-r-markdown/">(Xie 2022)</a>.</p>
</div>
</section>
<section id="differences-with-parameters" class="slide level2">
<h2>Differences with parameters</h2>
<p>No Quarto equivalent to .Rmd <a href="https://bookdown.org/yihui/rmarkdown/params-knit.html#the-interactive-user-interface">Knit with Parameters GUI</a> built with Shiny <a href="https://github.com/rstudio/miniUI">{miniUI}</a>.</p>

<img data-src="https://bookdown.org/yihui/rmarkdown/images/params-input.png" alt="Input parameter values interactively for parameterized reports." width="300" class="r-stretch quarto-figure-left"><p class="caption">Figure from <a href="https://bookdown.org/yihui/rmarkdown/params-knit.html#the-interactive-user-interface"><em>R Markdown: The Definitive Guide</em> (Xie et al.&nbsp;2023)</a></p><div>
<ul>
<li class="fragment"><p><strong>Workaround</strong>: build webapp to get input, serialize to YAML, pass to Quarto render.</p></li>
<li class="fragment"><p><strong>More info</strong>: <a href="https://github.com/quarto-dev/quarto-cli/discussions/7581#discussioncomment-7603016">GitHub discussion</a></p></li>
</ul>
</div>
</section>
<section id="convert-.rmd-.qmd" class="slide level2">
<h2>Convert <code>.Rmd</code> → <code>.qmd</code>*</h2>
<ol type="1">
<li>Change file extension from <code>.Rmd</code> → <code>.qmd</code></li>
<li>Change YAML header (<code>output:</code> → <code>format:</code>)</li>
<li>Convert chunk headers with <code>knitr::convert_chunk_header()</code></li>
</ol>
<p><em>*If you want.</em></p>
<p><br></p>
<div class="fragment">
<p><strong>Resources for R Markdown users</strong></p>
<p><a href="https://quarto.org/docs/blog/posts/2023-12-05-asa-traveling-courses/">From R Markdown to Quarto workshop</a> taught by Dr.&nbsp;Mine Çetinkaya-Rundel and Dr.&nbsp;Andrew Bray.</p>
<p><a href="https://quarto.org/docs/faq/rmarkdown.html">Quarto FAQ for R Markdown Users</a></p>
<p>Ted Laderas’ talk <a href="https://laderast.github.io/qmd_rmd">Quarto/RMarkdown - What’s Different?</a></p>
</div>
</section></section>
<section>
<section id="parameterized-reports" class="title-slide slide level1 section center">
<h1>Parameterized reports</h1>

</section>
<section id="many-use-cases" class="slide level2">
<h2>Many use cases</h2>
<div class="columns">
<div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="images/ocean-floor.png" class="lightbox" data-gallery="examples" title="RStudio R Markdown parameterized report project for mapping ocean floors."><img data-src="images/ocean-floor.png" alt="RStudio R Markdown parameterized report project for mapping ocean floors."></a></p>
</figure>
</div>
<p><a href="https://rmarkdown.rstudio.com/lesson-6.html">Ocean floor maps</a></p>
</div><div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="images/urban-institute.png" class="lightbox" data-gallery="examples" title="Report for Alabama spending with text and plots generated from parameterized R Markdown."><img data-src="images/urban-institute.png" alt="Report for Alabama spending with text and plots generated from parameterized R Markdown."></a></p>
</figure>
</div>
<p><a href="https://book.rwithoutstatistics.com/parameterized-reports-chapter.html">Fiscal briefs</a></p>
</div><div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="images/driver-quality.png" class="lightbox" data-gallery="examples" title="Report for Alaska driver quality with text, plot, and table generated from parameterized RMarkdown."><img data-src="images/driver-quality.png" alt="Report for Alaska driver quality with text, plot, and table generated from parameterized RMarkdown."></a></p>
</figure>
</div>
<p><a href="https://urban-institute.medium.com/iterated-fact-sheets-with-r-markdown-d685eb4eafce">Bad drivers</a></p>
</div><div class="column" style="width:25%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="images/soils-report.png" class="lightbox" data-gallery="examples" title="HTML report for soil health survey participant, generated from a parameterized Quarto report."><img data-src="images/soils-report.png" alt="HTML report for soil health survey participant, generated from a parameterized Quarto report."></a></p>
</figure>
</div>
<p><a href="https://wa-department-of-agriculture.github.io/soils/">Soil health</a></p>
</div>
</div>
<div class="fragment">
<p><strong>Different audiences, different reports</strong></p>
<p>Show code for technical staff and hide code for everyone else.</p>
<p>See this <a href="https://stackoverflow.com/questions/73571919/how-to-pass-logical-parameters-with-the-quarto-r-package-to-the-knitr-chunk-opti">StackOverflow question and answer</a> for an example.</p>
</div>
<div class="fragment">
<p><br></p>
<p>💬 <strong>Chat</strong>: what kinds of reports would you like to parameterize? What would the parameters be?</p>
</div>
</section>
<section id="like-a-custom-function" class="slide level2">
<h2>Like a custom function</h2>
<div class="r-stack">
<div class="quarto-figure quarto-figure-left" style="margin-top:-1em">
<figure>
<p><img data-src="images/template1.png" class="fragment" alt="File with the word '.qmd' inside and the word 'Function' above." width="1300"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-left" style="margin-top:-1em">
<figure>
<p><img data-src="images/template2.png" class="fragment" alt="An arrow points from 'Input' with 'params$year' to the previous image with 'Function' and '.qmd' file." width="1300"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-left" style="margin-top:-1em">
<figure>
<p><img data-src="images/template3.png" class="fragment" alt="In addition to the previous two images, arrows point to five reports with years 2019 through 2023 on them in a flow chart." width="1300"></p>
</figure>
</div>
</div>
</section>
<section id="what-makes-a-report-parameterized" class="slide level2">
<h2>What makes a report “parameterized”?</h2>
<ul>
<li><p>YAML header with <code>params</code> key-value pairs</p>
<ul>
<li>Yet Another Markdown Language or YAML Ain’t Markup Language 🤷🏻‍♀️</li>
</ul></li>
<li><p>Use those <code>params</code> in your report to create different variations</p></li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Valid parameter values are strings, numbers, or Boolean.</p>
<p>Must serialize a dataframe to pass it as a parameter, then un-serialize it back to a dataframe within the <code>.qmd</code> content.</p>
<p>See <a href="https://community.rstudio.com/t/param-converted-from-data-frame-to-list/155556/9">Christophe Dervieux’s answer in Posit Community</a> to understand why.</p>
<p>See <a href="https://www.jhelvy.com/posts/2023-02-28-parameterized-pdfs-with-quarto/#passing-data-frames-as-parameters">John Paul Helveston’s blog post</a> to learn how to use {jsonlite} as a workaround.</p>
</div>
</div>
</div>
</div>
</section>
<section id="workflow" class="slide level2">
<h2>Workflow</h2>
<div>
<ol type="1">
<li class="fragment"><p>Write report template with default values hard-coded, and then render &amp; review.</p></li>
<li class="fragment"><p>Set default <code>params</code> key-value pairs in YAML. Replace hard-coded values with the <code>params</code> variables.</p></li>
<li class="fragment"><p>Render the single report and review.</p></li>
<li class="fragment"><p>Render extreme cases and review.</p>
<ul>
<li class="fragment">Parameter values with barely any data and with tons of data.</li>
</ul></li>
<li class="fragment"><p>Render all variations of the report at once.</p></li>
</ol>
</div>
</section></section>
<section>
<section id="exercise-1" class="title-slide slide level1 exercise center">
<h1>💪🏼 Exercise 1</h1>
<ol type="1">
<li><p>Open <code>ex-1-swiss-cats.qmd</code>.</p></li>
<li><p>Click the <img data-src="https://quarto.org/docs/get-started/hello/images/rstudio-render-button.png" style="vertical-align:middle;" alt="Quarto render button in RStudio" width="49"> <strong>Render</strong> button.</p></li>
<li><p>Look at the source markdown and code and the rendered report.</p></li>
<li><p>Update your name as the author. Re-render.</p></li>
<li><p>💬 <strong>Chat</strong>: what variables could we set as parameters?</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_547533cf" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="set-params-in-yaml-header" class="slide level2">
<h2>Set <code>params</code> in YAML header</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="2|3-5|6-8|11"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1"></a><span class="pp">---</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Swiss Cats"</span><span class="co">                 # Metadata</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">format</span><span class="kw">:</span><span class="co">                             # Set format types</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span><span class="at"> default                                     </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="at">  </span><span class="fu">docx</span><span class="kw">:</span><span class="at"> default                           </span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="fu">params</span><span class="kw">:</span><span class="co">                             # Set default parameter key-value pairs</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="at">  </span><span class="fu">fave_breed</span><span class="kw">:</span><span class="at"> </span><span class="st">"Snowshoe"</span><span class="at">                                </span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="pp">---</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="at">    </span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="at">Report content goes here.</span><span class="co">           # Write content</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><strong>Your default <code>params</code> key-value pairs must be found in your dataset.</strong></p>
</div>
</section>
<section id="access-params" class="slide level2">
<h2>Access <code>params</code></h2>
<p>Run any line or chunk to add <code>params</code> to your environment.</p>
<div class="fragment">
<p><code>params</code> object is a list.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">str</span>(params)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 1
 $ fave_breed: chr "Snowshoe"</code></pre>
</div>
</div>
<p><br></p>
</div>
<div class="fragment">
<p>Access with <code>$</code> notation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>params<span class="sc">$</span>fave_breed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Snowshoe"</code></pre>
</div>
</div>
<p><br></p>
</div>
<div class="fragment">
<p>For inline code in YAML or report content, enclose the expression in <code>`r `</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1"></a>My favorite cat breed is the **`r params$fave_breed`**.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>My favorite cat breed is the <strong>Snowshoe</strong>.</p>
</div>
</section>
<section id="replace-hard-coded-values-with-params" class="slide level2">
<h2>Replace hard-coded values with <code>params</code></h2>
<div>
<ol type="1">
<li class="fragment"><p>Use inline R code to replace hard-coded markdown values.</p></li>
<li class="fragment"><p><code>Ctrl</code> + <code>F</code> to find and replace values in code.</p></li>
<li class="fragment"><p>Use <code>paste()</code> for plot and table titles and labels.</p></li>
</ol>
</div>
</section></section>
<section id="demo" class="title-slide slide level1 demo center">
<h1>💃🏻 Demo</h1>
<p>Modify <code>ex-1-swiss-cats.qmd</code> to add <code>pet_type</code> and <code>fave_breed</code> parameters.</p>
<div class="fragment">
<p>✅ Completed demo (and starting point for next exercise) <code>ex-2-swiss-pets.qmd</code>.</p>
</div>
</section>

<section>
<section id="rendering-reports" class="title-slide slide level1 section center">
<h1>Rendering reports</h1>

</section>
<section id="multiple-ways-to-render" class="slide level2">
<h2>Multiple ways to render</h2>
<div>
<ol type="1">
<li class="fragment"><p><img data-src="https://quarto.org/docs/get-started/hello/images/rstudio-render-button.png" style="vertical-align:middle;" alt="Quarto render button in RStudio" width="49"> <strong>Render</strong> button in RStudio or <code>Ctrl</code> + <code>Shift</code> + <code>K</code> keyboard shortcut</p></li>
<li class="fragment"><p>Check <code>Render on Save</code> and <code>Ctrl</code> + <code>S</code> keyboard shortcut</p></li>
<li class="fragment"><p>Quarto CLI</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1"></a><span class="ex">quarto</span> render ex-2-quarto-render.qmd <span class="at">-P</span> pet_type:<span class="st">'cats'</span> <span class="at">-P</span> fave_breed:<span class="st">'Snowshoe'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li class="fragment"><p>✨ <code>quarto::quarto_render()</code></p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console or R script</strong></pre>
</div>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"ex-2-quarto-render.qmd"</span>), <span class="co"># Input Quarto file</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="at">execute_params =</span> <span class="fu">list</span>(                        <span class="co"># Named list of params</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>    <span class="at">pet_type =</span> <span class="st">"cats"</span>,</span>
<span id="cb13-5"><a href="#cb13-5"></a>    <span class="at">fave_breed =</span> <span class="st">"Snowshoe"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
</div>
</section></section>
<section>
<section id="exercise-2" class="title-slide slide level1 exercise center">
<h1>💪🏼 Exercise 2</h1>
<ol type="1">
<li><p>Render <code>ex-2-quarto-render.qmd</code> with the <strong>Render</strong> button or keyboard shortcut <code>Ctrl</code> + <code>Shift</code> + <code>K</code>.</p></li>
<li><p>Take a look at the unique pet breeds.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>pets <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>   dplyr<span class="sc">::</span><span class="fu">distinct</span>(pet_type, breed) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>   <span class="fu">View</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Change the default parameters in the YAML to your favorite pet type and breed. Re-render.</p></li>
<li><p>Render with <code>quarto::quarto_render()</code> and different parameters:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a> quarto<span class="sc">::</span><span class="fu">quarto_render</span>(</span>
<span id="cb15-2"><a href="#cb15-2"></a>   <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"ex-2-quarto-render.qmd"</span>),</span>
<span id="cb15-3"><a href="#cb15-3"></a>   <span class="at">execute_params =</span> <span class="fu">list</span>(</span>
<span id="cb15-4"><a href="#cb15-4"></a>     <span class="at">pet_type =</span> <span class="st">"___"</span>,</span>
<span id="cb15-5"><a href="#cb15-5"></a>     <span class="at">fave_breed =</span> <span class="st">"___"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>💬 <strong>Chat</strong>: what’s your fave breed and do you have any pets? 🐈🐕🐹🐍🐠</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_61ce2dc3" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">07</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="render-all-538-reports" class="slide level2">
<h2>Render all 538 reports</h2>
<p>One HTML report for each cat breed and each dog breed.</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">📊 Data</a></li><li><a href="#tabset-1-2">👷🏼‍♂️ Manual 1</a></li><li><a href="#tabset-1-3">👷🏻‍♀️ Manual 2</a></li><li><a href="#tabset-1-4">⚡ Programatically</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>pets <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_rds</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"pets.RDS"</span>))</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a>pets <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(pet_type, breed) <span class="sc">|&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(pet_type) <span class="sc">|&gt;</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>  janitor<span class="sc">::</span><span class="fu">adorn_totals</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">pet_type</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">cats</td>
<td style="text-align: right;">104</td>
</tr>
<tr class="even">
<td style="text-align: left;">dogs</td>
<td style="text-align: right;">434</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total</td>
<td style="text-align: right;">538</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="tabset-1-2">
<ol type="1">
<li><p>Change the default <code>params</code> in the YAML.</p></li>
<li><p><strong>Render</strong> button in RStudio or <code>Ctrl</code>+<code>Shift</code>+<code>K</code> keyboard shortcut.</p></li>
<li><p>Change the file name to add the parameter.</p>
<p><code>output-file:</code> YAML option doesn’t seem to work with inline R code.</p></li>
<li><p>Repeat 537 times.</p></li>
</ol>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>(</span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"ex-2-quarto-render.qmd"</span>),</span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="at">output_file =</span> <span class="st">"dogs-affenpinscher-report.html"</span>,</span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="at">execute_params =</span> <span class="fu">list</span>(</span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="at">pet_type =</span> <span class="st">"dogs"</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="at">fave_breed =</span> <span class="st">"Affenpinscher"</span>))</span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>(</span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"ex-2-quarto-render.qmd"</span>),</span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="at">output_file =</span> <span class="st">"dogs-afghan-hound-report.html"</span>,</span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="at">execute_params =</span> <span class="fu">list</span>(</span>
<span id="cb17-12"><a href="#cb17-12"></a>    <span class="at">pet_type =</span> <span class="st">"dogs"</span>,</span>
<span id="cb17-13"><a href="#cb17-13"></a>    <span class="at">fave_breed =</span> <span class="st">"Afghan Hound"</span>))</span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>(</span>
<span id="cb17-16"><a href="#cb17-16"></a>  <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"ex-2-quarto-render.qmd"</span>),</span>
<span id="cb17-17"><a href="#cb17-17"></a>  <span class="at">output_file =</span> <span class="st">"dogs-aidi-chien-de-montagne-de-l-atlas-report.html"</span>,</span>
<span id="cb17-18"><a href="#cb17-18"></a>  <span class="at">execute_params =</span> <span class="fu">list</span>(</span>
<span id="cb17-19"><a href="#cb17-19"></a>    <span class="at">pet_type =</span> <span class="st">"dogs"</span>,</span>
<span id="cb17-20"><a href="#cb17-20"></a>    <span class="at">fave_breed =</span> <span class="st">"Aidi Chien De Montagne De L Atlas"</span>))</span>
<span id="cb17-21"><a href="#cb17-21"></a></span>
<span id="cb17-22"><a href="#cb17-22"></a>quarto<span class="sc">::</span><span class="fu">quarto_render</span>(</span>
<span id="cb17-23"><a href="#cb17-23"></a>  <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"ex-2-quarto-render.qmd"</span>),</span>
<span id="cb17-24"><a href="#cb17-24"></a>  <span class="at">output_file =</span> <span class="st">"dogs-akita-report.html"</span>,</span>
<span id="cb17-25"><a href="#cb17-25"></a>  <span class="at">execute_params =</span> <span class="fu">list</span>(</span>
<span id="cb17-26"><a href="#cb17-26"></a>    <span class="at">pet_type =</span> <span class="st">"dogs"</span>,</span>
<span id="cb17-27"><a href="#cb17-27"></a>    <span class="at">fave_breed =</span> <span class="st">"Akita"</span>))</span>
<span id="cb17-28"><a href="#cb17-28"></a></span>
<span id="cb17-29"><a href="#cb17-29"></a><span class="co"># + 534 more times... </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-4">
<p><strong>Create a dataframe with three columns that match <code>quarto_render()</code> args:</strong></p>
<ul>
<li><p><code>output_format</code>: file type (html, revealjs, pdf, docx, etc.)</p></li>
<li><p><code>output_file</code>: file name with extension</p></li>
<li><p><code>execute_params</code>: named list of parameters</p></li>
</ul>
<p><strong>Map over each row:</strong></p>
<ul>
<li><code>purrr::pwalk(dataframe, quarto_render, quarto_render_args)</code></li>
</ul>
</div>
</div>
</div>
</section>
<section id="create-dataframe-to-iterate-over" class="slide level2">
<h2>Create dataframe to iterate over</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="|2|4|5-9|11-14|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>pet_reports <span class="ot">&lt;-</span> pets <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(pet_type, breed) <span class="sc">|&gt;</span>   <span class="co"># Get distinct pet/breed combos</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb18-4"><a href="#cb18-4"></a>    <span class="at">output_format =</span> <span class="st">"html"</span>,             <span class="co"># Make output_format column</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>    <span class="at">output_file =</span> <span class="fu">paste</span>(                <span class="co"># Make output_file column</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>      <span class="fu">tolower</span>(pet_type),</span>
<span id="cb18-7"><a href="#cb18-7"></a>      <span class="fu">tolower</span>(<span class="fu">gsub</span>(<span class="st">" "</span>, <span class="st">"-"</span>, breed)),</span>
<span id="cb18-8"><a href="#cb18-8"></a>      <span class="st">"report.html"</span>,</span>
<span id="cb18-9"><a href="#cb18-9"></a>      <span class="at">sep =</span> <span class="st">"-"</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>    ),</span>
<span id="cb18-11"><a href="#cb18-11"></a>    <span class="at">execute_params =</span> purrr<span class="sc">::</span><span class="fu">map2</span>(       <span class="co"># Make execute_params column</span></span>
<span id="cb18-12"><a href="#cb18-12"></a>      pet_type,</span>
<span id="cb18-13"><a href="#cb18-13"></a>      breed,</span>
<span id="cb18-14"><a href="#cb18-14"></a>      \(pet_type, breed) <span class="fu">list</span>(<span class="at">pet_type =</span> pet_type, <span class="at">breed =</span> breed)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="subset-to-first-2-catdog-breeds" class="slide level2">
<h2>Subset to first 2 cat/dog breeds</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>pet_reports_subset <span class="ot">&lt;-</span> pet_reports <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>  dplyr<span class="sc">::</span><span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">2</span>, <span class="at">by =</span> pet_type) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(output_file, execute_params)</span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a>pet_reports_subset</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">output_file</th>
<th style="text-align: left;">execute_params</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">cats-abyssiniane-report.html</td>
<td style="text-align: left;">cats , Abyssiniane</td>
</tr>
<tr class="even">
<td style="text-align: left;">cats-aegean-cat-report.html</td>
<td style="text-align: left;">cats , Aegean Cat</td>
</tr>
<tr class="odd">
<td style="text-align: left;">dogs-affenpinscher-report.html</td>
<td style="text-align: left;">dogs , Affenpinscher</td>
</tr>
<tr class="even">
<td style="text-align: left;">dogs-afghan-hound-report.html</td>
<td style="text-align: left;">dogs , Afghan Hound</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="map-over-each-row" class="slide level2">
<h2>Map over each row</h2>
<div>
<ul>
<li class="fragment"><p><code>purrr::pwalk()</code> iterates over multiple arguments simultaneously.</p></li>
<li class="fragment"><p>First <code>.l</code> argument is a <em>list of vectors</em>.</p>
<ul>
<li class="fragment">Dataframe is a special case of <code>.l</code> that iterates over rows.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="|2|3|4|5|"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>purrr<span class="sc">::</span><span class="fu">pwalk</span>(</span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="at">.l =</span> pet_reports_subset,                      <span class="co"># Dataframe to map over</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="at">.f =</span> quarto<span class="sc">::</span>quarto_render,                   <span class="co"># Function we are applying to each row</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>  <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"ex-2-quarto-render.qmd"</span>), <span class="co"># Arguments of .f</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="at">.progress =</span> <span class="cn">TRUE</span>                              <span class="co"># Show a progress bar :)</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="limitations" class="slide level2">
<h2>Limitations</h2>
<div>
<ul>
<li class="fragment"><p>Can’t render reports to another directory.</p>
<ul>
<li class="fragment"><p><a href="https://quarto.org/docs/books/book-output.html#output-path"><code>output-dir</code> YAML option</a> only works for Quarto projects that have <code>_quarto.yml</code>.</p></li>
<li class="fragment"><p><strong>Workaround</strong>: use <a href="https://fs.r-lib.org/"><code>{fs}</code></a> to move files after rendering. See <code>ex-3-render-reports.R</code> for example.</p></li>
<li class="fragment"><p><strong>More info</strong>: <a href="https://github.com/quarto-dev/quarto-cli/discussions/2171#discussioncomment-4865286">GitHub discussion</a> and <a href="https://github.com/quarto-dev/quarto-r/issues/81">GitHub issue</a>.</p></li>
</ul></li>
</ul>
<p><br></p>
<ul>
<li class="fragment"><p>If using <code>embed-resources: true</code> YAML option, <code>.qmd</code> can’t be in subfolder, otherwise:</p>
<ul>
<li class="fragment"><p><span class="warning">[WARNING] Could not fetch resource …</span></p></li>
<li class="fragment"><p><strong>More info</strong>: <a href="https://github.com/quarto-dev/quarto-cli/discussions/4041#discussioncomment-6052000">GitHub discussion</a> and <a href="https://github.com/quarto-dev/quarto-cli/issues/5765">GitHub issue</a>.</p></li>
</ul></li>
</ul>
</div>
</section></section>
<section>
<section id="demo-1" class="title-slide slide level1 demo center">
<h1>💃🏻 Demo</h1>
<p>Demo <code>ex-3-render-reports.R</code>.</p>
</section>
<section id="multiple-formats" class="slide level2">
<h2>Multiple formats</h2>
<p>Add to the <code>format:</code> YAML option to render additional output formats from the same <code>.qmd</code> file.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb21-1"><a href="#cb21-1"></a><span class="pp">---</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="at">    </span><span class="fu">embed-resources</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">   # Makes the report self-contained</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="at">  </span><span class="fu">pdf</span><span class="kw">:</span><span class="at"> default</span><span class="co">              # If not using any additional format options,</span></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="at">  </span><span class="fu">docx</span><span class="kw">:</span><span class="at"> default</span><span class="co">             # set value to `default`  </span></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p><strong>Note</strong>: the Render button now has a dropdown!</p>
<p><img data-src="images/render-button.png" style="width:60.0%" alt="Screenshot of Quarto file with the Render dropdown showing options for HTML, PDF, and MS Word formats."></p>
<p><a href="https://quarto.org/docs/get-started/authoring/rstudio.html#multiple-formats">Quarto docs on multiple formats</a></p>
</div>
</section>
<section id="format-links-for-html-output" class="slide level2">
<h2>Format links for HTML output</h2>
<p>Links to download the other formats will automatically appear in HTML documents.</p>

<img data-src="images/other-formats.png" style="border-radius:1em" alt="Screenshot of a HTML page that includes links to the PDF and MS Word formats in the table of contents under the heading Other Formats." class="r-stretch"></section>
<section id="format-link-options" class="slide level2">
<h2>Format link options</h2>
<p><strong>Choose which format links to include:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="7"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb22-1"><a href="#cb22-1"></a><span class="pp">---</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="at">    </span><span class="fu">embed-resources</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="at">  </span><span class="fu">pdf</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="at">  </span><span class="fu">docx</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="fu">format-links</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">pdf</span><span class="kw">]</span></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><strong>Or hide all links:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="7"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb23-1"><a href="#cb23-1"></a><span class="pp">---</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="at">    </span><span class="fu">embed-resources</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb23-5"><a href="#cb23-5"></a><span class="at">  </span><span class="fu">pdf</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb23-6"><a href="#cb23-6"></a><span class="at">  </span><span class="fu">docx</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb23-7"><a href="#cb23-7"></a><span class="fu">format-links</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb23-8"><a href="#cb23-8"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section>
<section id="exercise-3" class="title-slide slide level1 exercise center">
<h1>💪🏼 Exercise 3</h1>
<ol type="1">
<li><p>Modify the YAML of <code>ex-3-render-reports.qmd</code> to add a new format (pdf and/or docx).</p></li>
<li><p>Modify <code>ex-3-render-reports.R</code> to add this new format to the dataframe used in <code>pwalk()</code>.</p></li>
<li><p>Modify the <code>regexp</code> argument in <code>dir_ls()</code> to also include “.html” OR “.docx” OR “.pdf”. Hint: <code>|</code> can be used as the <code>OR</code> operator.</p></li>
<li><p>💬 <strong>Chat</strong>: were any of these functions from the <code>.qmd</code> or <code>.R</code> files new to you?</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_ee7707c8" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>

<section>
<section id="conditional-content" class="title-slide slide level1 section center">
<h1>Conditional content</h1>

</section>
<section id="control-content-visibility" class="slide level2">
<h2>Control content visibility</h2>
<p>Special <code>.content-visible</code> and <code>.content-hidden</code> classes can be applied to:</p>
<p><strong>Divs</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb24-1"><a href="#cb24-1"></a>::: {.content-visible when-format="html"}</span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a>Will only appear in HTML.</span>
<span id="cb24-4"><a href="#cb24-4"></a></span>
<span id="cb24-5"><a href="#cb24-5"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p><strong>Non-executable code</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1"></a><span class="in">```{.python .content-visible when-format="html"}</span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="co"># code shown only in HTML</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="dv">2</span> <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><strong>Spans</strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1"></a>Some text</span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="co">[</span><span class="ot">in HTML.</span><span class="co">]</span>{.content-visible when-format="html"}</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="co">[</span><span class="ot">in PDF.</span><span class="co">]</span>{.content-visible when-format="pdf"}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="footer">
<p>Examples from <a href="https://quarto.org/docs/authoring/conditional.html">Conditional Content Quarto docs</a></p>
</div>
</div>
</section>
<section id="useful-for-staticinteractive-features" class="slide level2">
<h2>Useful for static/interactive features</h2>
<p>Pairs well with <code>{{&lt; include &gt;}}</code> shortcodes to re-use content without copying/pasting.</p>
<p>Use an underscore (_) prefix for included files so they are automatically ignored by a Quarto render of a project (<a href="https://quarto.org/docs/authoring/includes.html">Includes Quarto Docs</a>).</p>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Static</a></li><li><a href="#tabset-2-2">Interactive</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p>Use <code>.content-visible unless-format="html"</code></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1"></a>:::: {.content-visible unless-format="html"}</span>
<span id="cb27-2"><a href="#cb27-2"></a></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="fu">## Cats</span></span>
<span id="cb27-4"><a href="#cb27-4"></a></span>
<span id="cb27-5"><a href="#cb27-5"></a>{{&lt; include _cats.qmd &gt;}}</span>
<span id="cb27-6"><a href="#cb27-6"></a></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="fu">## Dogs</span></span>
<span id="cb27-8"><a href="#cb27-8"></a></span>
<span id="cb27-9"><a href="#cb27-9"></a>{{&lt; include _dogs.qmd &gt;}}</span>
<span id="cb27-10"><a href="#cb27-10"></a></span>
<span id="cb27-11"><a href="#cb27-11"></a>::::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2">
<p>Use <code>.content-visible when-format="html"</code></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb28-1"><a href="#cb28-1"></a>:::: {.content-visible when-format="html"}</span>
<span id="cb28-2"><a href="#cb28-2"></a>::: panel-tabset</span>
<span id="cb28-3"><a href="#cb28-3"></a></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="fu">## Cats</span></span>
<span id="cb28-5"><a href="#cb28-5"></a></span>
<span id="cb28-6"><a href="#cb28-6"></a>{{&lt; include _cats.qmd &gt;}}</span>
<span id="cb28-7"><a href="#cb28-7"></a></span>
<span id="cb28-8"><a href="#cb28-8"></a><span class="fu">## Dogs</span></span>
<span id="cb28-9"><a href="#cb28-9"></a></span>
<span id="cb28-10"><a href="#cb28-10"></a>{{&lt; include _dogs.qmd &gt;}}</span>
<span id="cb28-11"><a href="#cb28-11"></a></span>
<span id="cb28-12"><a href="#cb28-12"></a>:::</span>
<span id="cb28-13"><a href="#cb28-13"></a>::::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section></section>
<section>
<section id="exercise-4" class="title-slide slide level1 exercise center">
<h1>💪🏼 Exercise 4</h1>
<ol type="1">
<li>Modify <code>ex-4-conditional-content.qmd</code> so that the <code>panel-tabset</code> is only used for HTML documents by filling in the <code>{.content-</code>} class.</li>
</ol>
<p>Options:</p>
<ul>
<li><p>{.content-visible when-format=“___“}</p></li>
<li><p>{.content-visible unless-format=“___“}</p></li>
<li><p>{.content-hidden unless-format=“___“}</p></li>
<li><p>{.content-hidden unless-format=“___“}</p></li>
</ul>
<ol start="2" type="1">
<li>💬 <strong>Chat</strong>: what other kinds of content might you want to make visible for only a certain format?</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_8f4e34dc" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="conditional-code-execution" class="slide level2">
<h2>Conditional code execution</h2>
<div>
<ul>
<li class="fragment"><p>More efficient to not execute code that generates interactive outputs for static reports.</p></li>
<li class="fragment"><p>Useful for executing interactive plot code for HTML reports and static <code>ggplot2</code> code for all other formats.</p></li>
<li class="fragment"><p>Not currently a feature of Quarto v1.3, but a Quarto dev thinks it could be possible in v1.4 according to this <a href="https://github.com/quarto-dev/quarto-cli/discussions/3260#discussioncomment-4573926">GitHub discussion</a>. Granted, that comment was from 2023-01-02…</p></li>
</ul>
</div>
</section>
<section id="workaround-for-conditional-r-code" class="slide level2">
<h2>Workaround for conditional R code</h2>
<p>Include in the setup chunk of your <code>.qmd</code> file.</p>
<p>Get the format of the Pandoc output:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a href="#cb29-1"></a><span class="in">```{r}</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="co">#| label: setup</span></span>
<span id="cb29-3"><a href="#cb29-3"></a></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="co"># Get output format</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>format <span class="ot">&lt;-</span> knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">get</span>(<span class="st">"rmarkdown.pandoc.to"</span>)</span>
<span id="cb29-6"><a href="#cb29-6"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="use-eval-expr-chunk-option" class="slide level2">
<h2>Use <code>eval: !expr</code> chunk option</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Static plot</a></li><li><a href="#tabset-3-2">Interactive plot</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb30-1"><a href="#cb30-1"></a><span class="in">```{r}</span></span>
<span id="cb30-2"><a href="#cb30-2"></a><span class="co">#| eval: !expr format %in% c("latex", "docx")</span></span>
<span id="cb30-3"><a href="#cb30-3"></a></span>
<span id="cb30-4"><a href="#cb30-4"></a><span class="co"># code to create static {ggplot2}</span></span>
<span id="cb30-5"><a href="#cb30-5"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1"></a><span class="in">```{r}</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="co">#| eval: !expr format == "html"</span></span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co"># code to create interactive {plotly}</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<p><strong>Can even use <code>params</code> in <code>!expr</code>:</strong></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co">#| eval: !expr params$fave_breed == "Snowshoe"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><br></p>
<p><a href="https://quarto.org/docs/computations/r.html#chunk-options">Chunk Options Quarto Docs</a></p>
</div>
</section></section>
<section id="exercise-5" class="title-slide slide level1 exercise center">
<h1>💪🏼 Exercise 5</h1>
<ol type="1">
<li><p>Modify <code>ex-5-conditional-code.qmd</code> so that code chunks for <code>ggplot2</code> are executed only for PDF or MS Word documents and code chunks for <code>plotly</code> are executed only for HTML documents.</p>
<p>Hints:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="co"># Get output format in setup chunk:</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>format <span class="ot">&lt;-</span> knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">get</span>(<span class="st">"rmarkdown.pandoc.to"</span>)</span>
<span id="cb33-3"><a href="#cb33-3"></a></span>
<span id="cb33-4"><a href="#cb33-4"></a><span class="co"># Set chunk option:</span></span>
<span id="cb33-5"><a href="#cb33-5"></a><span class="co">#| eval: !expr format == "html"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>💬 <strong>Chat</strong>: what is something you learned from this workshop that you’re excited to apply to your own reports and projects?</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_3996404b" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>

<section>
<section id="summary" class="title-slide slide level1 section center">
<h1>Summary</h1>

</section>
<section id="learning-objective-1" class="slide level2">
<h2>Learning objective 1</h2>
<p><strong>Understand what parameterized reporting is and when it is useful.</strong></p>
<div class="fragment">
<p><strong>Like very fancy custom functions:</strong></p>
<div>
<ul>
<li class="fragment"><p>Function → <code>.qmd</code> template</p></li>
<li class="fragment"><p>Input → parameters</p></li>
<li class="fragment"><p>Output → rendered reports</p></li>
</ul>
</div>
</div>
<div class="fragment">
<p><strong>Useful for creating variations of the same report:</strong></p>
<ul>
<li><p>country, state, county, or city</p></li>
<li><p>time periods</p></li>
<li><p>breeds, species, diseases, trials, etc.</p></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>We only covered reports, but you can also parameterize <code>revealjs</code> presentations! See this <a href="https://www.jumpingrivers.com/blog/r-parameterised-presentations-quarto/">Jumping Rivers blog post</a> about it.</p>
</div>
</div>
</div>
</div>
</section>
<section id="learning-objective-2" class="slide level2">
<h2>Learning objective 2</h2>
<p><strong>Learn how to convert a report into a parameterized template.</strong></p>
<div>
<ul>
<li class="fragment"><p>Include default <code>params:</code> in YAML</p></li>
<li class="fragment"><p>Replace hard-coded values with <code>params$pet_type</code></p>
<ul>
<li class="fragment"><p><strong>YAML</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb34-1"><a href="#cb34-1"></a><span class="pp">---</span></span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"Report about `r params$pet_type`"</span></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb34-4"><a href="#cb34-4"></a><span class="at">  </span><span class="fu">pet_type</span><span class="kw">:</span><span class="at"> </span><span class="st">"cats"</span></span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li class="fragment"><p><strong>Inline R code</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb35-1"><a href="#cb35-1"></a>I like **`r params$pet_type`**.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li class="fragment"><p><strong>Code chunks</strong>:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>pets <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(pet_type <span class="sc">==</span> params<span class="sc">$</span>pet_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</div>
</section>
<section id="learning-objective-3" class="slide level2">
<h2>Learning objective 3</h2>
<p><strong>Render all variations of the report at once using <a href="https://quarto-dev.github.io/quarto-r/">{quarto}</a> and <a href="https://purrr.tidyverse.org/">{purrr}</a>. </strong></p>
<div class="fragment">
<ol type="1">
<li>Get all unique parameter combinations into a dataframe:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">head</span>(pet_reports, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table>
<colgroup>
<col style="width: 10%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 32%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">pet_type</th>
<th style="text-align: left;">breed</th>
<th style="text-align: left;">output_format</th>
<th style="text-align: left;">output_file</th>
<th style="text-align: left;">execute_params</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">cats</td>
<td style="text-align: left;">Abyssiniane</td>
<td style="text-align: left;">html</td>
<td style="text-align: left;">cats-abyssiniane-report.html</td>
<td style="text-align: left;">cats , Abyssiniane</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<ol start="2" type="1">
<li>Use dataframe in <code>pwalk()</code> with <code>quarto_render()</code>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>purrr<span class="sc">::</span><span class="fu">pwalk</span>(</span>
<span id="cb38-2"><a href="#cb38-2"></a>  pet_reports,</span>
<span id="cb38-3"><a href="#cb38-3"></a>  quarto<span class="sc">::</span>quarto_render,</span>
<span id="cb38-4"><a href="#cb38-4"></a>  <span class="at">input =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"pet_template.qmd"</span>),</span>
<span id="cb38-5"><a href="#cb38-5"></a>  <span class="at">.progress =</span> <span class="cn">TRUE</span></span>
<span id="cb38-6"><a href="#cb38-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="learning-objective-4" class="slide level2">
<h2>Learning objective 4</h2>
<p><strong>Generate multiple format outputs from the same template with conditional content and code.</strong></p>
<div class="fragment">
<!-- -->
<h4 id="content-visibility">Content visibility</h4>
<ul>
<li><p>{.content-visible when-format=“___“}</p></li>
<li><p>{.content-visible unless-format=“___“}</p></li>
<li><p>{.content-hidden unless-format=“___“}</p></li>
<li><p>{.content-hidden unless-format=“___“}</p></li>
</ul>
</div>
<div class="fragment">
<!-- -->
<h4 id="code-execution">Code execution</h4>
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co">#| label: setup</span></span>
<span id="cb39-2"><a href="#cb39-2"></a></span>
<span id="cb39-3"><a href="#cb39-3"></a>format <span class="ot">&lt;-</span> knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">get</span>(<span class="st">"rmarkdown.pandoc.to"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="co">#| label: interactive-plot</span></span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="co">#| eval: !expr format == "html"</span></span>
<span id="cb40-3"><a href="#cb40-3"></a></span>
<span id="cb40-4"><a href="#cb40-4"></a><span class="co"># plotly code</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="thank-you" class="slide level2">
<h2>Thank you!</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>🙏🏼 <strong>Please let me know how I did in this <a href="https://forms.gle/xSYgJQenNs6gFcck9">short survey</a></strong></p>
<p><br></p>
<p>🏡 <strong>Home for all workshop materials</strong>: <a href="https://jadeynryan.github.io/rladies-parameterized-quarto" class="uri">https://jadeynryan.github.io/rladies-parameterized-quarto</a></p>
<p><img data-src="images/mts.jpg" style="border-radius:1em" alt="From left to right, Mai, Tai, and Skye. Three snowshoe cats cuddling in their warming beds." width="600"></p>
</div><div class="column" style="width:35%;">
<p><strong>Stay connected!</strong></p>
<p><i class="fa-solid fa-link fa-xl" aria-label="link"></i> <a href="https://jadeyryan.com">jadeyryan.com</a></p>
<p><i class="fa-brands fa-mastodon fa-xl" aria-label="mastodon"></i> <a href="https://fosstodon.org/@jadeynryan">@jadeynryan</a></p>
<p><i class="fa-brands fa-linkedin fa-xl" aria-label="linkedin"></i> <a href="https://www.linkedin.com/in/jadey-ryan">linkedin.com/in/jadey-ryan</a></p>
<p><i class="fa-brands fa-github fa-xl" aria-label="github"></i> <a href="https://github.com/jadeynryan/">jadeynryan</a></p>
<p><i class="fa-brands fa-etsy fa-xl" aria-label="etsy"></i> <a href="https://thecodingcats.etsy.com/">thecodingcats.etsy.com</a></p>
</div>
</div>

<p><img src="images/jr-logo-quarto.webp" class="slide-logo"></p>
<div class="footer footer-default">
<p>Parameterized Reporting with Quarto <a href="https://jadeynryan.github.io/rladies-parameterized-quarto">bit.ly/rladies-parameterized-quarto-workshop</a></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    
    

</body></html>